---
import {PortableText} from "astro-portabletext";
import Button from "../Button.astro";
import NetlifyImage from "../NetlifyImage.astro";

const {node} = Astro.props;
---

<section>
  <div class="py-32 mx-auto max-w-7xl relative">
    <div
      class="grid grid-cols-1 max-w-lg lg:max-w-none mx-auto items-start md:grid-cols-2 bg-[var(--color-accent1)] text-[var(--color-bg)] p-10 lg:p-20">
      <div class="texte lg:pr-24 md:pr-12">
        <PortableText
          value={node.content}
          components={{
            type: {
              button: Button,
            },
          }}
        />
      </div>
      {
        node.img && (
          <div class="mt-12 lg:-mt-32 h-full sceneVerticalOverflow">
            <NetlifyImage
              src={node.img.src}
              alt={node.img.alt}
              class="drop-shadow w-full"
            />
          </div>
        )
      }
    </div>
  </div>
</section>

<style>
  .texte :global(p:only-of-type) {
    font-size: var(--size-xl);
  }
</style>
