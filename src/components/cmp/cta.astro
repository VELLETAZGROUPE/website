---
import {PortableText} from "astro-portabletext";
import Link from "../Link.astro";
import Button from "../Button.astro";
import NetlifyImage from "../NetlifyImage.astro";

const {node} = Astro.props;

console.log(node);
---

<section>
  <div class="py-32 mx-auto max-w-7xl relative">
    <div
      class="grid grid-cols-1 max-w-lg lg:max-w-none mx-auto items-start md:grid-cols-2 bg-[var(--color-accent1)] text-[var(--color-bg)] p-10 lg:p-20">
      <div class="texte lg:pr-24 md:pr-12">
        <PortableText
          value={node.content}
          components={{
            mark: {
              link: Link,
              internalLink: Link,
            },
            type: {
              button: Button,
            },
          }}
        />
      </div>
      {
        node.img && (
          <div class="mt-12 lg:-mt-32 h-full sceneVerticalOverflow">
            <NetlifyImage
              src={node.img.src}
              alt={node.img.alt}
              class="drop-shadow w-full"
            />
          </div>
        )
      }
    </div>
  </div>
</section>

<style>
  .texte :global(p:first-child) {
    font-size: var(--size-l);
    font-weight: 900;
  }
  .texte :global(a) {
    font-size: var(--size-m);
    text-decoration: underline;
    cursor: pointer;
    white-space: break-spaces;
  }
  .texte :global(h1, h2, h3, h4, h5, h6) {
    font-weight: 900 !important;
  }
</style>
